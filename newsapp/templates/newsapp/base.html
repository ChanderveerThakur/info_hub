{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>InfoHub</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{% static 'newsapp/css/styles.css' %}">
</head>

<body class="bg-gradient-to-r from-sky-200 via-indigo-100 to-pink-100 min-h-screen">

  <!-- Navbar -->
  <nav class="py-4 px-6 flex justify-between items-center bg-white/60 shadow-md rounded-b-2xl">
    <!-- Left section -->
    <div class="flex items-center gap-6">
      <a href="{% url 'newsapp:home' %}" class="text-2xl font-extrabold text-indigo-700 hover:text-indigo-900 transition">
        ðŸ“° InfoHub
      </a>

      <!-- Search form -->
      <form method="get" action="{% url 'newsapp:home' %}" class="flex items-center gap-2">
        <input name="q"
               placeholder="Search news, e.g. cricket, AI..."
               class="rounded-l-lg px-3 py-2 border-0 shadow-sm focus:ring-2 focus:ring-indigo-400"
               value="{{ request.GET.q }}">
        <select name="lang"
                class="px-2 py-2 border-0 shadow-sm rounded-r-lg focus:ring-2 focus:ring-indigo-400">
          <option value="en" {% if lang == 'en' %}selected{% endif %}>English</option>
          <option value="hi" {% if lang == 'hi' %}selected{% endif %}>Hindi</option>
        </select>
        <button type="submit"
                class="ml-2 px-4 py-2 rounded-lg bg-indigo-600 text-white font-semibold hover:bg-indigo-700">
          Search
        </button>
      </form>
    </div>

    <!-- Right section -->
    <div class="flex items-center gap-4">
      {% if user.is_authenticated %}
        <span class="text-lg font-medium text-gray-800">Hey {{ user.username }} ðŸ‘‹</span>
        <a href="{% url 'newsapp:history' %}" class="px-3 py-2 rounded-md bg-white/70 hover:bg-white shadow">
          History
        </a>
        <!-- âœ… Logout (manual logout using GET request) -->
<a href="{% url 'myusernames:logout' %}" 
   class="px-3 py-2 rounded-md bg-red-500 text-white hover:bg-red-600 shadow">
  Logout
</a>
      {% else %}
        <a href="{% url 'myusernames:login' %}"
           class="px-3 py-2 rounded-md bg-green-500 text-white hover:bg-green-600 shadow">
           Login
        </a>
      {% endif %}
    </div>
  </nav>

  <!-- Messages (success/error alerts) -->
  {% if messages %}
    <div class="container mx-auto mt-4 px-6">
      {% for message in messages %}
        <div class="p-3 mb-3 rounded-lg text-white font-medium
                    {% if message.tags == 'success' %}bg-green-500
                    {% elif message.tags == 'error' %}bg-red-500
                    {% else %}bg-blue-500{% endif %}">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <!-- Main content -->
  <main class="container mx-auto px-6 py-6">
    {% block content %}
    {% endblock %}
  </main>

  <!-- Footer -->
  <footer class="text-center text-sm text-gray-600 mt-10 pb-6">
    Â© 2025 InfoHub â€¢ Built with using Django
  </footer>

</body>
</html>
